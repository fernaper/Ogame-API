<!DOCTYPE html>

<html>
<head>
	<title></title>
	<meta charset="utf-8">
	<link rel="stylesheet" type="text/css" href="style.css">
</head>
<body>
	<div id="contenedor">
		<h1>Eternity</h1>
		<form action = "" method = "post">
			<textarea placeholder="Copia y pega el informe de espionaje aqui"></textarea>
			<div class="wrapper">
				<input type="submit" value="Enviar" class="button" id="espionage">
			</div>
		<script>
			var data = new FormData();
			data.append("text", document.getElementById("espionage"));

			var xhr = new XMLHttpRequest();
			xhr.withCredentials = false;
			
			xhr.addEventListener("readystatechange", function () {
			  if (this.readyState === 4) {
				console.log(this.responseText);
			  }
			});

			xhr.open("POST", "http://localhost:8080/ogame/espionage");
			xhr.setRequestHeader("Content-Type", "application/json");
			xhr.setRequestHeader("Cache-Control", "no-cache");

			xhr.send(data);
		</script>
		<!--<script>
			var form = new FormData();
			form.append("text", document.getElementById("espionage"));

			var settings = {
			  "async": true,
			  "crossDomain": true,
			  "url": "http://localhost:8080/ogame/espionage",
			  "method": "POST",
			  "headers": {
				"Content-Type": "application/json",
				"Cache-Control": "no-cache"
			  },
			  "processData": false,
			  "contentType": false,
			  "mimeType": "multipart/form-data",
			  "data": form
			}

			$.ajax(settings).done(function (response) {
			  console.log(response);
			});
		
		</script>-->
		</form>
	</div>
</body>
</html>